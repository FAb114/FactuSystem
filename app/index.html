<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FactuSystem</title>
  <link rel="stylesheet" href="assets/css/main.css" />
  <link rel="stylesheet" href="assets/css/components/sidebar.css" />
  <link rel="stylesheet" href="assets/css/components/dashboard.css" />
  <link rel="stylesheet" href="assets/css/components/modal.css" />
  <link rel="stylesheet" href="assets/css/components/tables.css" />
  <link rel="icon" href="assets/img/logo.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.css">
</head>
<body>
  <div id="app">
    <!-- Sidebar mejorado -->
    <aside class="sidebar">
      <div class="logo">
        <img src="assets/img/logo.png" alt="Logo" />
        <h1>FACTURACIÓN APP</h1>
      </div>
      <nav>
        <ul>
          <li><button onclick="abrirModulo('facturador')"><i class="fas fa-file-invoice-dollar"></i> Facturador</button></li>
          <li><button onclick="abrirModulo('ventas')"><i class="fas fa-shopping-cart"></i> Ventas</button></li>
          <li><button onclick="abrirModulo('compras')"><i class="fas fa-truck-loading"></i> Compras</button></li>
          <li><button onclick="abrirModulo('inventario')"><i class="fas fa-boxes"></i> Inventario</button></li>
          <li><button onclick="abrirModulo('clientes')"><i class="fas fa-users"></i> Clientes</button></li>
          <li><button onclick="abrirModulo('proveedores')"><i class="fas fa-truck"></i> Proveedores</button></li>
          <li><button onclick="abrirModulo('usuarios')"><i class="fas fa-user-shield"></i> Usuarios</button></li>
          <li><button onclick="abrirModulo('caja')"><i class="fas fa-cash-register"></i> Caja</button></li>
          <li><button onclick="abrirModulo('reportes')"><i class="fas fa-chart-bar"></i> Reportes</button></li>
          <li><button onclick="abrirModulo('cuotificador')"><i class="fas fa-percent"></i> Cuotificador</button></li>
          <li><button onclick="abrirModulo('documentos')"><i class="fas fa-file-alt"></i> Documentos</button></li>
          <li><button onclick="abrirModulo('sucursales')"><i class="fas fa-network-wired"></i> Sucursales</button></li>
          <li><button onclick="abrirModulo('configuraciones')"><i class="fas fa-cogs"></i> Configuración</button></li>
          <li><button onclick="abrirModulo('ayuda')"><i class="fas fa-question-circle"></i> Ayuda</button></li>
        </ul>
      </nav>
    </aside>

    <!-- Contenido principal -->
    <main class="main-content">
      <div class="dashboard-container">
        <div class="header">
          <h1 class="dashboard-title">Dashboard</h1>
          <div class="payment-notification">
            <i class="fas fa-check-circle"></i> Pago recibido: $12,500.00 - 25/04/2025
          </div>
        </div>

        <div class="summary-cards">
          <div class="card">
            <div class="card-title">Ventas del día</div>
            <div class="card-value">$45,890.00</div>
            <div class="card-subtext positive-change">+5% vs ayer</div>
          </div>
          
          <div class="card">
            <div class="card-title">Facturas emitidas</div>
            <div class="card-value">24</div>
            <div class="card-subtext">Hoy</div>
          </div>
          
          <div class="card">
            <div class="card-title">Estado de caja</div>
            <div class="card-value" style="color: #4cd964;">ABIERTA</div>
            <div class="card-subtext">Apertura: 08:15</div>
          </div>
        </div>

        <div class="charts-row">
          <div class="charts-section">
            <h2 class="section-title">Ventas últimos 7 días</h2>
            <canvas id="salesChart" height="200"></canvas>
          </div>
          
          <div class="top-products">
            <h2 class="section-title">Top Productos</h2>
            <div class="product-bar">
              <div class="product-name">Smartphone XZ-10</div>
              <div class="product-bar-container">
                <div class="product-bar-fill" style="width: 32%"></div>
                <div class="product-percentage">32%</div>
              </div>
            </div>
            
            <div class="product-bar">
              <div class="product-name">Smart TV 50"</div>
              <div class="product-bar-container">
                <div class="product-bar-fill" style="width: 25%"></div>
                <div class="product-percentage">25%</div>
              </div>
            </div>
            
            <div class="product-bar">
              <div class="product-name">Auriculares BT</div>
              <div class="product-bar-container">
                <div class="product-bar-fill" style="width: 18%"></div>
                <div class="product-percentage">18%</div>
              </div>
            </div>
            
            <div class="product-bar">
              <div class="product-name">Cargador USB-C</div>
              <div class="product-bar-container">
                <div class="product-bar-fill" style="width: 12%"></div>
                <div class="product-percentage">12%</div>
              </div>
            </div>
          </div>
        </div>

        <nav style="width: 90%; margin: 20px auto;">
            <ul style="display: flex; list-style: none; padding: 0; justify-content: space-around;">
              <li>
                <button onclick="abrirModulo('facturador')" style="padding: 12px 20px; border: 1px solid #ccc; background-color: #f9f9f9; color: #333; cursor: pointer; border-radius: 8px; transition: background-color 0.3s ease, color 0.3s ease; font-size: 16px;"
                        onmouseover="this.style.backgroundColor='#007bff'; this.style.color='white'; this.style.borderColor='#007bff';"
                        onmouseout="this.style.backgroundColor='#f9f9f9'; this.style.color='#333'; this.style.borderColor='#ccc';">
                  <i class="fas fa-file-invoice-dollar" style="margin-right: 8px;"></i> Facturador
                </button>
              </li>
              <li>
                <button onclick="abrirModulo('cotizador')" style="padding: 12px 20px; border: 1px solid #ccc; background-color: #f9f9f9; color: #333; cursor: pointer; border-radius: 8px; transition: background-color 0.3s ease, color 0.3s ease; font-size: 16px;"
                        onmouseover="this.style.backgroundColor='#007bff'; this.style.color='white'; this.style.borderColor='#007bff';"
                        onmouseout="this.style.backgroundColor='#f9f9f9'; this.style.color='#333'; this.style.borderColor='#ccc';">
                  <i class="fas fa-percent" style="margin-right: 8px;"></i> Cotizador
                </button>
              </li>
              <li>
                <button onclick="abrirModulo('ventas')" style="padding: 12px 20px; border: 1px solid #ccc; background-color: #f9f9f9; color: #333; cursor: pointer; border-radius: 8px; transition: background-color 0.3s ease, color 0.3s ease; font-size: 16px;"
                        onmouseover="this.style.backgroundColor='#007bff'; this.style.color='white'; this.style.borderColor='#007bff';"
                        onmouseout="this.style.backgroundColor='#f9f9f9'; this.style.color='#333'; this.style.borderColor='#ccc';">
                  <i class="fas fa-shopping-cart" style="margin-right: 8px;"></i> Ventas
                </button>
              </li>
            </ul>
          </nav>
      </div>   
    </main>
  </div>

  <!-- Scripts -->
  <script src="assets/js/renderer.js"></script>
  <script>
    // Función para abrir módulos
    function abrirModulo(moduloId) {
      console.log('Abriendo módulo:', moduloId);
      // Quitar clase activa de todos los botones
      document.querySelectorAll('nav ul li button').forEach(item => {
        item.classList.remove('active');
      });
      // Agregar clase activa al botón correspondiente
      document.getElementById(moduloId)?.classList.add('active');
      
      // Si existe la API, llamar al método
      if (window.api && typeof window.api.openModule === 'function') {
        window.api.openModule(moduloId);
      }
    }
    
    // Inicializar el gráfico de ventas
    document.addEventListener('DOMContentLoaded', function() {
      const ctx = document.getElementById('salesChart').getContext('2d');
      const salesChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Lun', 'Mar', 'Mié', 'Jue', 'Vie'],
          datasets: [{
            label: 'Ventas',
            data: [12500, 15000, 10800, 18200, 19500],
            backgroundColor: '#4ca3d8',
            borderRadius: 4
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              display: false
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                display: false
              }
            },
            x: {
              grid: {
                display: false
              }
            }
          }
        }
      });
      
      // Establecer Dashboard como activo por defecto
      document.getElementById('dashboard').classList.add('active');
    });
  </script>
</body>
</html>